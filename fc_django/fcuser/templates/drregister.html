{% extends "base.html" %}
{% load widget_tweaks %}

{% block contents %}
    <div class="justify-content-md-center mt-4">
    </div>
    <div class="container-sm justify-content-sm-center ">
    <div class="justify-content-sm-center" style ="width:500px; align-content: center; margin:0 auto;border: 3px solid #007bff; padding: 20px">
    <h2 class="h1 justify-content-md-center" style="text-align: center; border-bottom: 3px solid #007bff; padding: 2px; "> Doctor Registration</h2>
    <p style="text-align: center"> please register a doctor for the patients</p>
        <form method="post" action="{% url 'dr_regist' %}" class="js-book-create-form ">
            {% csrf_token %}
            {% for field in form %}
                <div class="form-group {% if field.errors %} {% endif %}">
                <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                {% if field.errors %}
                    {% render_field field class="form-control is-invalid" %}
                {% else %}
                    {% render_field field class="form-control" autocomplete="off"%}
                {% endif %}
                <div>
                {% for error in field.errors %}
                    <p class="help-block has-error" style="color:red; font-size:0.5rem; font-weight:bold">야 임마 바보야 이거 {{ error }}</p>
                {% endfor %}
                </div>
            {% endfor %}
            </div>
            <div class="mx-auto justify-content-sm-center">
                <button type="submit" id="btn_create_pt" class="btn btn-primary" >Create Physician</button>
            </div>

        </form>
    </div>
    </div>


<div class="container">
    <form action="#" autocomplete="nope">
    <div class="form-row">
        <div class="form-group col-md-4">
            <label for="companyName" class="mr-2 col-form-label-sm">Name:&nbsp;</label>
            <input type="text" class="form-control form-control-sm" autocomplete="off" name="companyName" id="companyName" placeholder="Company Name" required="" pattern="^.+$" value="">
        </div>
        <div class="form-group col-md-4">
            <label for="version" class="mr-2 col-form-label-sm">Version:&nbsp;</label>
            <input type="text" class="form-control form-control-sm" autocomplete="off" name="version" id="version" placeholder="Version" required="" pattern="^.+$" value="">
        </div>
        <div class="form-group col-md-4">
            <label for="notes" class="mr-2 col-form-label-sm">Notes:&nbsp;</label>
            <input type="text" class="form-control form-control-sm" autocomplete="off" name="notes" id="notes" placeholder="Notes" pattern="^.+$" value="">
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-lg-12">
            <button type="submit" class="btn btn-primary btn-sm">Add</button>
            <button type="button" class="btn btn-light btn-sm ml-1">Cancel</button>
        </div>
    </div>
</form>
</div>
{% endblock %}

{##}
{#<script#}
{#  src="https://code.jquery.com/jquery-3.4.1.js"#}
{#  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="#}
{#  crossorigin="anonymous"></script>#}
{#    <script#}
{#  src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"#}
{#  integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30="#}
{#  crossorigin="anonymous"></script>#}
{#<div class="form-group">#}
{#    <h1> Dr Register Page</h1>#}
{#        <li>#}
{#            <label for="dr_name"> 의사 성명 </label>#}
{#            <input class="form-control" type="text", id="dr_name">#}
{#        </li>#}
{#        <li>#}
{#            <label for="email"> 이메일 </label>#}
{#            <input class="form-control" type="text", id="email">#}
{#        </li>#}
{#        <li>#}
{#            <label for="comment1"> 참고사항 </label>#}
{#            <input class="form-control" type="text", id="comment1">#}
{#        </li>#}
{#        <button class="btn btn-primary" id="register">등록</button>#}
{#</div>#}
{#<script>#}
    {#$(document).ready(#}
    {#    alert('hi')#}
    {#);#}
{#    $(document).ready(function(){#}
{#        $("#register").click(function(){#}
{#            var dr_name=$('#dr_name').val();#}
{#            var email =$('#email').val();#}
{#            var comment1 = $('#comment1').val();#}
{#            function getCookie(name) {#}
{#                var cookieValue = null;#}
{#                if (document.cookie && document.cookie !== '') {#}
{#                    var cookies = document.cookie.split(';');#}
{#                    for (var i = 0; i < cookies.length; i++) {#}
{#                        var cookie = jQuery.trim(cookies[i]);#}
{#                        // Does this cookie string begin with the name we want?#}
{#                        if (cookie.substring(0, name.length + 1) === (name + '=')) {#}
{#                            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));#}
{#                            break;#}
{#                        }#}
{#                    }#}
{#                }#}
{#                return cookieValue;#}
{#                }#}
{#                var csrftoken = getCookie('csrftoken');#}
{#                function csrfSafeMethod(method) {#}
{#                    // these HTTP methods do not require CSRF protection#}
{#                    return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));#}
{#                }#}
{#                $.ajaxSetup({#}
{#                    beforeSend: function(xhr, settings) {#}
{#                        if (!csrfSafeMethod(settings.type) && !this.crossDomain) {#}
{#                            xhr.setRequestHeader("X-CSRFToken", csrftoken);#}
{#                        }#}
{#                    }#}
{#                });#}
{#            $.ajax({#}
{#                url: '/dr_create/',#}
{#                method: 'post',#}
{#                data: {'dr_name':dr_name, 'email':email, 'comment1':comment1},#}
{#                success : function(){#}
{#                    alert('가입을 환영합니다.');#}
{#                    window.location = {% url 'dr_registration_home' %};#}
{#                },#}
{#                error : function(response) {#}
{#                    alert(response.responseJSON.message)#}
{#                }#}
{#            });#}
{#        });#}
{#    });#}
{##}
{#</script>#}

